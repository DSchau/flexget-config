presets: 
  # sync shows with trakt, not currently used in my setup
  acquired:
    trakt_acquired:
      username: YOUR USER NAME
      password: "YOUR PASSWORD"
      api_key: YOUR API KEY
      type: series
  # makes rss with accepted entries from task (when configured as a preset for that task)
  rssout:
    make_rss:
      file: /Users/YOUR USER NAME/Library/tmp/downloads.rss
      days: 1
  # My favorite shows, shows that I want to get the best quality--upgrade when available--get shows from tvdb favorites
  best:
    import_series:
      from:
        thetvdb_favorites:
          account_id: YOUR ACCOUNT ID
      settings:
        upgrade: yes
        qualities:
          - 720p hdtv+
          - 720p webdl
          - 720p bluray
  # shows I just want to watch, not particularly concerned with best quality
  release:
    series:
      settings:
        release:
          quality: 720p hdtv+
      release:
        - Louie
        - The Newsroom
        - The Soup
        - The Walking Dead
        - Workaholics
        # - The Colbert Report
        # - The Daily Show
        # - Around the Horn
        # - Pardon the Interruption
  # I had a few season packs downloading, so I included this as a check; could probably set max to less
  size_limit: 
    content_size:
      min: 150
      max: 4250
      strict: no

tasks:
  btn:
    rss: RSS FEED
    priority: 1
    preset: 
      - best
      - acquired
      - size_limit
      - rssout
    thetvdb_lookup: yes # used by the email task to get much more interesting data (e.g. cover art, fan art, rating, etc.)
    download: /Users/YOUR USER NAME/Downloads

  tvt:
    rss: RSS FEED
    headers:
      Cookie: "uid=####; pass=##########"
    priority: 2
    preset: 
      - best
      - release
      - acquired
      - size_limit
      - rssout
    thetvdb_lookup: yes
    download: /Users/YOUR USER NAME/Downloads

  # get my queue from imdb, add to internal flexget queue
  movie_queue_imdb:
    priority: 3
    imdb_list:
      username: YOUR USER NAME
      password: YOUR PASSWORD
      list: watchlist
    accept_all: yes
    queue_movies:
      quality: 720p bluray
      force: yes

  # download movies using queue from previous imdb task
  movies:
    priority: 4
    rss: YOUR RSS
    interval: 2 hours
    headers:
      Cookie: "uid=####; pass=#############"
    # preset: size_limit
    movie_queue: yes
    seen_movies: strict
    download: /Users/YOUR USER NAME/Downloads/

  trailers:
    apple_trailers: 720p
    accept_all: yes
    download: /Users/YOUR USER NAME/Movies/Trailers/
    manual: yes

  # I like my TV shows named differently, e.g. E12 Crawl Space v. Breaking Bad S04E12 720p web-dl
  # so I rename them and move to external harddrive (I use a different app to copy files to a different dir. 
  # so that they can continue to seed in /Torrents)
  move-episodes:
    metainfo_series: yes
    accept_all: yes
    thetvdb_lookup: yes
    find:
      path: /Users/YOUR USER NAME/Downloads/Torrents/TV Shows/
      regexp: '.*(WEB.?DL|Bluray).*mkv' # only copy good quality for the external hd
      recursive: no
    move:
      to: "/Volumes/VIDEO/{{ series_name }}/{% if series_season is defined and series_season < 1000 %}Season {% else %}{% endif %}{{ series_season }}/"
      # to: "/Users/YOUR USER NAME/Movies/TV Shows/{{ series_name }}/Season {{series_season}}/"
      filename: "{% if tvdb_episode|d(false) %}E{{tvdb_episode|pad(2)}} {% if tvdb_ep_name|d(false) %}{{tvdb_ep_name}}{% endif %} {% else %}{{title}} {% endif %}" 
    manual: yes

  move-movies:
    accept_all: yes
    imdb_lookup: yes
    imdb_required: yes
    find:
      path: /Users/YOUR USER NAME/Downloads/Torrents/
      regexp: '.*(mkv|avi|mp4)'
      recursive: yes
    move:
      to: "/Volumes/Video/Movies/"
      filename: "{% if imdb_name is defined %}{{imdb_name}}{% if imdb_year is defined %}({{imdb_year}}){% endif %}{% else %}{{title}}{% endif %}"
    manual: yes

  # only need to call function when seeding db for the first time
  seed_series_db:
    find:
      regexp: .*(avi|mkv|mp4)$
      path: /Volumes/VIDEO/
      recursive: yes
    # preset: tv # need to fix for actual recognition - quality will scrwe it up
    manual: yes

  # every day, if RSS feed is not blank (it's cleared every day in the RSS task), sends an e-mail of downloads
  emailfeed:
    interval: 1 days
    rss:
      url: /Users/YOUR USER NAME/Library/tmp/downloads.rss
    disable_builtins: [seen]
    metainfo_series: yes # required for tvdb lookup to work, email template to function correctly
    thetvdb_lookup: yes
    accept_all: yes
    email:
      from: YOUR USER NAME
      to: YOUR EMAIL
      subject: Flexget Media Update
      template: html_enhanced-dark
      smtp_host: smtp.gmail.com
      smtp_port: 587
      smtp_username: YOUR USER NAME
      smtp_password: YOUR PASSWORD
      smtp_tls: yes